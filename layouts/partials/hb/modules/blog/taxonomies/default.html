{{- $taxonomies := partial "hb/modules/blog/functions/filter-taxonomies" . }}
{{- range $taxonomies }}
  {{- $name := .name }}
  {{- $count := .count }}
  <div class="taxonomy-terms hb-module">
    {{- with site.GetPage $name }}
      <div class="taxonomy-terms-title h5">
        <a class="text-decoration-none" href="{{ .RelPermalink }}">{{- .Title -}}</a>
      </div>
    {{- end }}
    {{- range .terms }}
      <a
        class="taxonomy-term taxonomy-term-{{ $name }} btn btn-sm btn-outline-secondary my-1 me-1"
        href="{{ .Page.RelPermalink }}">
        {{- .Page.Title -}}
        {{- if $count }}
          {{- printf " (%d)" .Count -}}
        {{- end }}
      </a>
    {{- end }}
  </div>
{{- end }}
